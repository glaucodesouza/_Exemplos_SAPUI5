<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>First VERY Simple MVC Example</title>
    <script
      id="sap-ui-bootstrap"
      src="https://sapui5.hana.ondemand.com/1.104.2/resources/sap-ui-core.js"
      data-sap-ui-libs="sap.m"
      data-sap-ui-theme="sap_bluecrystal"
      data-sap-ui-preload="async"
      data-sap-ui-compatVersion="edge"
      data-sap-ui-xx-bindingSyntax="complex"
      data-sap-ui-resourceroots='{"sapui5.demo.mvcapp": "./"}'
    >
    </script>
    <script>
      // 0-NAMESPACE mapping source code folders with the namespace
      //jQuery.sap.registerModulePath('sapui5.demo.mvcapp', './webapp/');

      // 1-ODATA application data
      var oData = {
        "CountSuppliers" : "2",
        "Suppliers" : [
          {
            "ID":0,
            "Name":"Exotic Liquids",
            "Address":{
              "Street":"NE 228th",
              "City":"Sammamish",
              "State":"WA",
              "ZipCode":"98074",
              "Country":"USA"
            }
          },
          {
            "ID":1,
            "Name":"Tokyo Traders",
            "Address":{
              "Street":"NE 40th",
              "City":"Redmond",
              "State":"WA",
              "ZipCode":"98052",
              "Country":"USA"
            }
          }
        ]
      };

      // 2-MODEL creation and settings data
      var oModel = sap.ui.model.json.JSONModel();
      oModel.setData(oData);

      // setting the model to the core
      // so that it's avaiable in the whole application
      sap.ui.getCore().setModel(oModel);

      //New line comparing to mvc-v1...
      var oPageMasterView = sap.ui.view("masterPage", {
        type: sap.ui.core.mvc.ViewType.JS,
        viewName: "sapui5.demo.mvcapp.view.Master"
      });

      // THIS codification went to Master.controller.js...
      // // 3-TABLE COLUMNS the columns will act as column readers
      // var aColums = [
      //   new sap.m.Column({
      //     header : new sap.m.Text({
      //       text : "ID"
      //     })
      //   }),
      //   new sap.m.Column({
      //     header : new sap.m.Text({
      //       text : "Name"
      //     })
      //   })
      // ];

      // // 4-TEMPLATE in the Template, we will display the supplier information
      // var oTemplate = new sap.m.ColumnListItem({
      //   type: "Navigation",
      //   cells: [
      //     new sap.m.ObjectIdentifier({
      //       text: "{ID}"
      //     }),
      //     new sap.m.ObjectIdentifier({
      //       text: "{Name}"
      //     })
      //   ]
      // });

      // // 5-HEADER in the header, we are displaying the number of suppliers
      // var oTableHeader = new sap.m.Toolbar({
      //   content: [
      //     new sap.m.Title({
      //       text: "Number of suppliers {/CountSuppliers}"
      //     })
      //   ]
      // });

      // // 6-TABLE we create the table with the columns and header
      // var oTable = new sap.m.Table({
      //   columns: aColums,
      //   headerToolbar: oTableHeader
      // });

      // // 7-BIND we bind the table items to the /Suppliers entries
      // // and to the template
      // oTable.bindItems("/Suppliers", oTemplate);

      // // 8-PAGE
      // var oPageMaster = new sap.m.Page("masterPage",{
      //   title: "Supplier Overview",
      //   content: [oTable]
      // });

      //changed here comparing to mvc-v1 app example
      // var oApp = new sap.m.App("myApp");
      var oApp = new sap.m.App({
        initialPage: "masterPage"
      });

      oApp.addPage(oPageMaster);

      oApp.placeAt("content");

    </script>
  </head>
  <body class="sapUiBody sapUiResponsiveMargin" id="content" role="application">
    <div id="content"></div>
  </body>
</html>
